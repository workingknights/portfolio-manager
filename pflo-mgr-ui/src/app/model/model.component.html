<div class="container-fluid" *ngIf="auth.authenticated()">

	<div class="row" *ngIf="!model">
		<div class="col-sm-4">
			<span class="mx-auto">No model exists yet</span>
		</div>
		<div class="col-sm-8">
			<form>
				<button class="btn btn-sm btn-primary btn-margin-top" (click)="createModel()">Create Model</button>
			</form>
		</div>
	</div>

	<div *ngIf="model" class="mt-sm-3">
		<div class="row" >
			<div class="col-sm-3">
				<ul class="list-group">
					<li class="list-group-item">
						Total Weight: {{totalWeight | percent:'1.2-2'}}
					</li>
				</ul>
			</div>
		<!-- </div> -->

			<!-- <div class="row" *ngIf="model"> -->
				<div class="col-sm-3">
					<button class="btn btn-primary mt-1" (click)="openAddEntryForm()">Add Entry</button>
				</div>
			</div>
			<div class="row" *ngIf="showAddEntryForm">
				<div class="col-sm-12">
					<app-model-entry-form (submitted)="saveEntry($event)" (closed)="showAddEntryForm=false"></app-model-entry-form>
				</div>
			</div>

		<div class="row">
			<div class="col-lg-4 col-md-6 col-sm-8 col-xs-12">
				<swui-datatable class="material"
					[rows]="model.entries"
					[columnMode]="'flex'"
					[rowHeight]="'auto'">
					<swui-datatable-column prop="ticker" [flexGrow]="1"></swui-datatable-column>
					<swui-datatable-column prop="portfolioWeight" [flexGrow]="1">
						<template let-value="value" swui-datatable-cell-template>
							{{value | percent:'1.0-2'}}
						</template>
					</swui-datatable-column>
				</swui-datatable>
			</div>
		</div>
	</div>

</div>
